@page
@model IndexModel
@{
    ViewData["Title"] = "Home page";
}

<div>
    @if (Model.DisplayScreen.Boards?.Any() == true)
    {
        <div id="infoBoardContainer" class="list-group" style="border: none; --bs-list-group-border-width: 0px;">
            @foreach (var board in Model.DisplayScreen.Boards)
            {
                <div class="board-header"><h2>@board.Title</h2></div>
                <div class="list-group">
                    
                    
                </div>
            }
        </div>
    }
</div>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        let boards = document.querySelectorAll(".info-board");
        let currentIndex = 0;
        let transitionDuration = @AppConstants.TransitionDuration; // Adjust duration dynamically

        function showNextBoard() {
            let previousIndex = (currentIndex - 1 + boards.length) % boards.length;

            // Hide previous board smoothly
            boards[previousIndex].style.opacity = "0";

            setTimeout(() => {
                boards[previousIndex].style.display = "none";
                boards[currentIndex].style.display = "block";

                // Fade in the new board
                setTimeout(() => {
                    boards[currentIndex].style.opacity = "1";
                        }, @AppConstants.TransitionDuration);
                
                currentIndex = (currentIndex + 1) % boards.length;
                    }, @AppConstants.TransitionDuration); // Time to complete fade out
        }

        // Initialize styles
        boards.forEach((board, index) => {
            board.style.transition = "opacity 0.5s ease-in-out";
            board.style.opacity = index === 0 ? "1" : "0";
            board.style.display = index === 0 ? "block" : "none";
        });

        setInterval(showNextBoard, transitionDuration);
    });
</script>